<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap | mkbaltz</title>
<meta name="keywords" content="c, programming, sdl, tutorial">
<meta name="description" content="TL;DR Skip to Putting it all together section of this post to see the whole code.
Getting SDL2 Windows - MSYS2 mingw64
pacman -S mingw-w64-x86_64-SDL2 Ubuntu
sudo apt install libsdl2-dev From SDL2 Website
You can get SDL2 development libraries for your platform on the official website&rsquo;s download page https://www.libsdl.org/download-2.0.php.
Overview A typical SDL2 application does the following:
 Initialize SDL subsystems. Create a window. Create a renderer. Process events, update data, and draw objects to screen, repeatedly until the program is stopped.">
<meta name="author" content="">
<link rel="canonical" href="https://www.mkbaltz.com/posts/c-sdl-how-to-create-a-window/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.b4e19c453811e60acfec1f00c15ac2be1c53f6ab90187e684358ce7faaf48bab.css" integrity="sha256-tOGcRTgR5grP7B8AwVrCvhxT9quQGH5oQ1jOf6r0i6s=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js" integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://www.mkbaltz.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.mkbaltz.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.mkbaltz.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.mkbaltz.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.mkbaltz.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P5BFMXCEB4"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-P5BFMXCEB4', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap" />
<meta property="og:description" content="TL;DR Skip to Putting it all together section of this post to see the whole code.
Getting SDL2 Windows - MSYS2 mingw64
pacman -S mingw-w64-x86_64-SDL2 Ubuntu
sudo apt install libsdl2-dev From SDL2 Website
You can get SDL2 development libraries for your platform on the official website&rsquo;s download page https://www.libsdl.org/download-2.0.php.
Overview A typical SDL2 application does the following:
 Initialize SDL subsystems. Create a window. Create a renderer. Process events, update data, and draw objects to screen, repeatedly until the program is stopped." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.mkbaltz.com/posts/c-sdl-how-to-create-a-window/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-24T00:00:00&#43;08:00" />
<meta property="article:modified_time" content="2022-05-24T00:00:00&#43;08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap"/>
<meta name="twitter:description" content="TL;DR Skip to Putting it all together section of this post to see the whole code.
Getting SDL2 Windows - MSYS2 mingw64
pacman -S mingw-w64-x86_64-SDL2 Ubuntu
sudo apt install libsdl2-dev From SDL2 Website
You can get SDL2 development libraries for your platform on the official website&rsquo;s download page https://www.libsdl.org/download-2.0.php.
Overview A typical SDL2 application does the following:
 Initialize SDL subsystems. Create a window. Create a renderer. Process events, update data, and draw objects to screen, repeatedly until the program is stopped."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://www.mkbaltz.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap",
      "item": "https://www.mkbaltz.com/posts/c-sdl-how-to-create-a-window/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap",
  "name": "SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap",
  "description": "TL;DR Skip to Putting it all together section of this post to see the whole code.\nGetting SDL2 Windows - MSYS2 mingw64\npacman -S mingw-w64-x86_64-SDL2 Ubuntu\nsudo apt install libsdl2-dev From SDL2 Website\nYou can get SDL2 development libraries for your platform on the official website\u0026rsquo;s download page https://www.libsdl.org/download-2.0.php.\nOverview A typical SDL2 application does the following:\n Initialize SDL subsystems. Create a window. Create a renderer. Process events, update data, and draw objects to screen, repeatedly until the program is stopped.",
  "keywords": [
    "c", "programming", "sdl", "tutorial"
  ],
  "articleBody": "TL;DR Skip to Putting it all together section of this post to see the whole code.\nGetting SDL2 Windows - MSYS2 mingw64\npacman -S mingw-w64-x86_64-SDL2 Ubuntu\nsudo apt install libsdl2-dev From SDL2 Website\nYou can get SDL2 development libraries for your platform on the official website’s download page https://www.libsdl.org/download-2.0.php.\nOverview A typical SDL2 application does the following:\n Initialize SDL subsystems. Create a window. Create a renderer. Process events, update data, and draw objects to screen, repeatedly until the program is stopped. This repeated sequence of steps is commonly referred to as the game loop. Free resources upon exiting the program.  Initialization SDL2 is comprised of different subsystems. During initialization we need to tell it the subsystems that we will be using by calling the SDL_Init function.\n#include int SDL_Init(Uint32 flags); It returns 0 upon successful initialization. Below are list of the possible values of the flags parameter. The flags can be OR’d together to initialize more than one subsystem.\nSDL_INIT_TIMER // timer subsystem SDL_INIT_AUDIO // audio subsystem SDL_INIT_VIDEO // video subsystem; automatically initializes the events subsystem SDL_INIT_JOYSTICK // joystick subsystem; automatically initializes the events subsystem SDL_INIT_HAPTIC // haptic (force feedback) subsystem SDL_INIT_GAMECONTROLLER // controller subsystem; automatically initializes the joystick subsystem SDL_INIT_EVENTS // events subsystem SDL_INIT_EVERYTHING // all of the above subsystems SDL_INIT_NOPARACHUTE // compatibility; this flag is ignored For example if we want to initialize the video and audio subsystem:\nSDL_Init(SDL_INIT_VIDEO|SDL_INIT_AUDIO); or if we want to initialize all subsystem we could use SDL_INIT_EVERYTHING.\nSDL_Init(SDL_INIT_EVERYTHING); Creating a Window An SDL_Window is a struct that contains all information about the window. It is created by calling SDL_CreateWindow function. It returns an SDL_Window pointer if successful and NULL if it fails.\nSDL_Window * SDL_CreateWindow(const char *title, // Window title  int x, // x position of the window  int y, // y position of the window  int w, // width of the window  int h, // height of the window  Uint32 flags); // 0 or one or more SDL_WindowFlags OR'd together The parameter x and y can be set as an int value or SDL_WINDOWPOS_CENTERED, or SDL_WINDOWPOS_UNDEFINED.\nThe flags parameter can be just set to 0 or with SDL_WindowFlags.\nBelow is a list of the possible values of SDL_WindowFlags\nSDL_WINDOW_FULLSCREEN // fullscreen window SDL_WINDOW_FULLSCREEN_DESKTOP // fullscreen window at desktop resolution SDL_WINDOW_OPENGL // window usable with an OpenGL context SDL_WINDOW_VULKAN // window usable with a Vulkan instance SDL_WINDOW_METAL // window usable with a Metal instance SDL_WINDOW_HIDDEN // window is not visible SDL_WINDOW_BORDERLESS // no window decoration SDL_WINDOW_RESIZABLE // window can be resized SDL_WINDOW_MINIMIZED // window is minimized SDL_WINDOW_MAXIMIZED // window is maximized SDL_WINDOW_INPUT_GRABBED // window has grabbed input focus SDL_WINDOW_ALLOW_HIGHDPI // window should be created in high-DPI mode if supported (= SDL 2.0.1) Creating a Renderer An SDL_Renderer is a struct that contains all the rendering information. It is tied to an SDL_Window and can only render within the window it is tied to.\nA renderer is created by calling SDL_CreateRenderer function. I returns a pointer to an SDL_Renderer if successful and NULL if it failed.\nSDL_Renderer* SDL_CreateRenderer(  SDL_Window * window, // Rendering will be displayed to this window   int index, // index of the rendering driver to initialize.  // If set to -1 it will initialize the  // first one that supports the given flags.   Uint32 flags); // 0 or one or more SDL_RendererFlags  // OR'd together. The flags parameter can be set to 0 or one or more of the SDL_RendererFlags listed below.\nSDL_RENDERER_SOFTWARE // the renderer is a software fallback SDL_RENDERER_ACCELERATED // the renderer uses hardware acceleration SDL_RENDERER_PRESENTVSYNC // present is synchronized with the refresh rate SDL_RENDERER_TARGETTEXTURE // the renderer supports rendering to texture There are other functions that are tied to the SDL_Renderer for changing its settings and drawing to screen. For this tutorial we will only use the ones below.\n// Set the color used for drawing operations (Rect, Line and Clear). int SDL_SetRenderDrawColor(SDL_Renderer * renderer, // an SDL_Renderer instance  Uint8 r, // red value 0 - 255  Uint8 g, // green value 0 - 255  Uint8 b, // blue value 0 - 255  Uint8 a); // alpha value 0 - 255  // Clear the current rendering target with the drawing color. int SDL_RenderClear(SDL_Renderer * renderer);  // Update the screen with any rendering performed since the previous call. void SDL_RenderPresent(SDL_Renderer * renderer); All operations done with the renderer will not be drawn to screen until we call SDL_RenderPresent. We’ll go into details with this on another post but for now its all we need to know.\nErrors When SDL_Init, SDL_CreateWindow, or SDL_CreateRenderer fails, we can get the error information by calling SDL_GetError.\nBelow is an example usage:\nif(0 != SDL_Init(SDL_INIT_EVERYTHING)) {  printf(\"Error %s\\n\", SDL_GetError()); } Processing events User interactions in SDL are stored in an event queue. Getting values from this queue is done by calling SDL_PollEvent function. It returns 1 if there are still items in the queue and 0 if there’s none.\nint SDL_PollEvent(SDL_Event * event); To use this function we must first create an SDL_Event variable that we can pass as parameter. The function will then fill it values that we can check and respond as needed.\nBelow is an example usage:\n// create an SDL_Event variable SDL_Event event;  // poll the event queue while(SDL_PollEvent(\u0026event)) {  switch(event.type)  {  // decide what to do with the event  } } Setting an FPS Cap Setting a cap on the frame rate is usually done to avoid unnecessary cpu usage. This cap is usually set to the same value as the monitor’s refresh rate. For our example we will set this to 60.\nTo cap the frame rate we will have to use the following functions.\n// Get the current value of the high resolution counter. // Returns the current counter value. Uint64 SDL_GetPerformanceCounter(void);  // Get the count per second of the high resolution counter. // Returns a platform-specific count per second. Uint64 SDL_GetPerformanceFrequency(void);  // Wait a specified number of milliseconds before returning. void SDL_Delay(Uint32 ms); The idea is to calculate the elapsed time to perform all the operations on the current frame. If this elapsed time value is less than our target FPS in milliseconds, we call SDL_Delay.\n// fps cap const float fps_cap = 60.0f; const float fps_cap_in_ms = 1000.0f/fps_cap; uint64_t start; uint64_t end; float delta; // elapsed time bool game_is_running = true;  // game loop while(game_is_running) {  start = SDL_GetPerformanceCounter();   // process events   // update   // render   end = start = SDL_GetPerformanceCounter();   // get how long each cycle has taken  delta = (end - start)/(float)SDL_GetPerformanceFrequency() * 1000.0f;   // limit fps  // wait if time taken is less than target fps in ms.  if(delta  fps_cap_in_ms)  {  SDL_Delay(fps_cap_in_ms - delta);  } } Freeing Resources Before closing the application, we must free the resources that our program used.\nvoid SDL_DestroyRendrer(SDL_Renderer* renderer); void SDL_DestroyWindow(SDL_Window* window); void SDL_Quit(void); Putting it all together main.c\n#include #include #include #include  int main(int argc, char** args) {  // screen dimensions  const int SCREEN_WIDTH = 854;  const int SCREEN_HEIGHT = 480;   // fps cap  const float fps_cap = 60.0f;  const float fps_cap_in_ms = 1000.0f/fps_cap;  uint64_t start;  uint64_t end;  float delta;   // window title  const char* TITLE = \"Hardware Accelerated Blue Screen!\";   SDL_Window* window = NULL;  SDL_Renderer* renderer = NULL;  bool is_game_loop_stopped = false;   // Initialize SDL2  // goto is used only for exception handling  if(0 != SDL_Init(SDL_INIT_EVERYTHING)) goto bail;   // create the window  window = SDL_CreateWindow(  TITLE,  SDL_WINDOWPOS_CENTERED,  SDL_WINDOWPOS_CENTERED,  SCREEN_WIDTH,  SCREEN_HEIGHT,  0  );   // check if window was created  // goto is used only for exception handling  if(NULL == window) goto cleanup;   // create a 2D accelerated renderer  renderer = SDL_CreateRenderer(window, -1, SDL_RENDERER_ACCELERATED);   // check if renderer was created  // goto is used only for exception handling  if(NULL == renderer) goto cleanup_window;   while(!is_game_loop_stopped)  {  start = SDL_GetPerformanceCounter();   SDL_Event event;  while(SDL_PollEvent(\u0026event))  {  switch(event.type)  {  case SDL_QUIT:  is_game_loop_stopped = true;  break;  }  }   // set drawing color  SDL_SetRenderDrawColor(renderer, 50, 100, 255, 255);   // clear screen  SDL_RenderClear(renderer);   // update screen  SDL_RenderPresent(renderer);   end = SDL_GetPerformanceCounter();   // get how long each cycle has taken  delta = (end - start)/(float)SDL_GetPerformanceFrequency() * 1000.0f;   // limit fps  // wait if time taken is less than target fps in ms.  if(delta  fps_cap_in_ms)  {  SDL_Delay(fps_cap_in_ms - delta);  }  }   // free resources  SDL_DestroyRenderer(renderer);  SDL_DestroyWindow(window);  SDL_Quit();   return EXIT_SUCCESS;  cleanup_window:  SDL_DestroyWindow(window);  cleanup:  SDL_Quit();  bail:  return EXIT_FAILURE; } Compiling On Windows using mingw:\ngcc main.c -o game -lmingw32 -lSDL2main -lSDL2 -mwindows With pkg-config:\ngcc `pkg-config sdl2 --cflags` main.c -o game `pkg-config sdl2 --libs` Output  Thank you for reading!\nLike this post? \nFollow this blog on Twitter and stay updated!\n",
  "wordCount" : "1412",
  "inLanguage": "en",
  "datePublished": "2022-05-24T00:00:00+08:00",
  "dateModified": "2022-05-24T00:00:00+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.mkbaltz.com/posts/c-sdl-how-to-create-a-window/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "mkbaltz",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.mkbaltz.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.mkbaltz.com/" accesskey="h" title="mkbaltz (Alt + H)">mkbaltz</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.mkbaltz.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://www.mkbaltz.com/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://www.mkbaltz.com/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap
    </h1>
    <div class="post-meta"><span title='2022-05-24 00:00:00 +0800 CST'>May 24, 2022</span>

</div>
  </header> 
  <div class="post-content"><h2 id="tldr">TL;DR<a hidden class="anchor" aria-hidden="true" href="#tldr">#</a></h2>
<p>Skip to <a href="#putting-it-all-together">Putting it all together</a> section of this
post to see the whole code.</p>
<h2 id="getting-sdl2">Getting SDL2<a hidden class="anchor" aria-hidden="true" href="#getting-sdl2">#</a></h2>
<p><strong>Windows</strong> - MSYS2 mingw64</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pacman -S mingw-w64-x86_64-SDL2 
</span></span></code></pre></div><p><strong>Ubuntu</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install libsdl2-dev
</span></span></code></pre></div><p><strong>From SDL2 Website</strong></p>
<p>You can get SDL2 development libraries for your platform on the official website&rsquo;s
download page <a href="https://www.libsdl.org/download-2.0.php">https://www.libsdl.org/download-2.0.php</a>.</p>
<h2 id="overview">Overview<a hidden class="anchor" aria-hidden="true" href="#overview">#</a></h2>
<p>A typical SDL2 application does the following:</p>
<ul>
<li>Initialize SDL subsystems.</li>
<li>Create a window.</li>
<li>Create a renderer.</li>
<li>Process events, update data, and draw objects to screen, repeatedly until the program is stopped.
This repeated sequence of steps is commonly referred to as the game loop.</li>
<li>Free resources upon exiting the program.</li>
</ul>
<h2 id="initialization">Initialization<a hidden class="anchor" aria-hidden="true" href="#initialization">#</a></h2>
<p>SDL2 is comprised of different subsystems. During initialization we need to tell it the subsystems
that we will be using by calling the <em>SDL_Init</em> function.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;SDL2/SDL.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">SDL_Init</span>(Uint32 flags);
</span></span></code></pre></div><p>It returns 0 upon successful initialization.
Below are list of the possible values of the flags parameter.
The flags can be OR&rsquo;d together to initialize more than one subsystem.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>SDL_INIT_TIMER          <span style="color:#75715e">// timer subsystem
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_INIT_AUDIO          <span style="color:#75715e">// audio subsystem
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_INIT_VIDEO          <span style="color:#75715e">// video subsystem; automatically initializes the events subsystem
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_INIT_JOYSTICK       <span style="color:#75715e">// joystick subsystem; automatically initializes the events subsystem
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_INIT_HAPTIC         <span style="color:#75715e">// haptic (force feedback) subsystem
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_INIT_GAMECONTROLLER <span style="color:#75715e">// controller subsystem; automatically initializes the joystick subsystem
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_INIT_EVENTS         <span style="color:#75715e">// events subsystem
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_INIT_EVERYTHING     <span style="color:#75715e">// all of the above subsystems
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_INIT_NOPARACHUTE    <span style="color:#75715e">// compatibility; this flag is ignored
</span></span></span></code></pre></div><p>For example if we want to initialize the video and audio subsystem:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>SDL_Init(SDL_INIT_VIDEO<span style="color:#f92672">|</span>SDL_INIT_AUDIO);
</span></span></code></pre></div><p>or if we want to initialize all subsystem we could use SDL_INIT_EVERYTHING.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>SDL_Init(SDL_INIT_EVERYTHING);
</span></span></code></pre></div><h2 id="creating-a-window">Creating a Window<a hidden class="anchor" aria-hidden="true" href="#creating-a-window">#</a></h2>
<p>An SDL_Window is a struct that contains all information about the window.
It is created by calling <em>SDL_CreateWindow</em> function. It returns
an SDL_Window pointer if successful and NULL if it fails.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>SDL_Window <span style="color:#f92672">*</span> <span style="color:#a6e22e">SDL_CreateWindow</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>title, <span style="color:#75715e">// Window title
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                              <span style="color:#66d9ef">int</span> x,             <span style="color:#75715e">// x position of the window
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                              <span style="color:#66d9ef">int</span> y,             <span style="color:#75715e">// y position of the window
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                              <span style="color:#66d9ef">int</span> w,             <span style="color:#75715e">// width of the window
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                              <span style="color:#66d9ef">int</span> h,             <span style="color:#75715e">// height of the window
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                              Uint32 flags);     <span style="color:#75715e">// 0 or one or more SDL_WindowFlags OR&#39;d together
</span></span></span></code></pre></div><p>The parameter x and y can be set as an int value or SDL_WINDOWPOS_CENTERED, or SDL_WINDOWPOS_UNDEFINED.</p>
<p>The flags parameter can be just set to 0 or with SDL_WindowFlags.</p>
<p>Below is a list of the possible values of SDL_WindowFlags</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>SDL_WINDOW_FULLSCREEN         <span style="color:#75715e">// fullscreen window
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_WINDOW_FULLSCREEN_DESKTOP <span style="color:#75715e">// fullscreen window at desktop resolution
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_WINDOW_OPENGL             <span style="color:#75715e">// window usable with an OpenGL context
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_WINDOW_VULKAN             <span style="color:#75715e">// window usable with a Vulkan instance
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_WINDOW_METAL              <span style="color:#75715e">// window usable with a Metal instance
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_WINDOW_HIDDEN             <span style="color:#75715e">// window is not visible
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_WINDOW_BORDERLESS         <span style="color:#75715e">// no window decoration
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_WINDOW_RESIZABLE          <span style="color:#75715e">// window can be resized
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_WINDOW_MINIMIZED          <span style="color:#75715e">// window is minimized
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_WINDOW_MAXIMIZED          <span style="color:#75715e">// window is maximized
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_WINDOW_INPUT_GRABBED      <span style="color:#75715e">// window has grabbed input focus
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_WINDOW_ALLOW_HIGHDPI      <span style="color:#75715e">// window should be created in high-DPI mode if supported (&gt;= SDL 2.0.1)
</span></span></span></code></pre></div><h2 id="creating-a-renderer">Creating a Renderer<a hidden class="anchor" aria-hidden="true" href="#creating-a-renderer">#</a></h2>
<p>An SDL_Renderer is a struct that contains all the rendering information. It is tied to an
SDL_Window and can only render within the window it is tied to.</p>
<p>A renderer is created by calling <em>SDL_CreateRenderer</em> function. I returns a pointer to
an SDL_Renderer if successful and NULL if it failed.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>SDL_Renderer<span style="color:#f92672">*</span> <span style="color:#a6e22e">SDL_CreateRenderer</span>(
</span></span><span style="display:flex;"><span>                    SDL_Window <span style="color:#f92672">*</span> window, <span style="color:#75715e">// Rendering will be displayed to this window
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">int</span> index,           <span style="color:#75715e">// index of the rendering driver to initialize. 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                                         <span style="color:#75715e">// If set to -1 it will initialize the 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                                         <span style="color:#75715e">// first one that supports the given flags.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>                    Uint32 flags);       <span style="color:#75715e">// 0 or one or more SDL_RendererFlags 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                                         <span style="color:#75715e">// OR&#39;d together.
</span></span></span></code></pre></div><p>The flags parameter can be set to 0 or one or more of the SDL_RendererFlags listed below.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>SDL_RENDERER_SOFTWARE      <span style="color:#75715e">// the renderer is a software fallback
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_RENDERER_ACCELERATED   <span style="color:#75715e">// the renderer uses hardware acceleration
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_RENDERER_PRESENTVSYNC  <span style="color:#75715e">// present is synchronized with the refresh rate
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_RENDERER_TARGETTEXTURE <span style="color:#75715e">// the renderer supports rendering to texture
</span></span></span></code></pre></div><p>There are other functions that are tied to the SDL_Renderer for changing its settings and
drawing to screen. For this tutorial we will only use the ones below.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// Set the color used for drawing operations (Rect, Line and Clear).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">SDL_SetRenderDrawColor</span>(SDL_Renderer <span style="color:#f92672">*</span> renderer, <span style="color:#75715e">// an SDL_Renderer instance
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                        Uint8 r,  <span style="color:#75715e">// red value 0 - 255
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                        Uint8 g,  <span style="color:#75715e">// green value 0 - 255
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                        Uint8 b,  <span style="color:#75715e">// blue value 0 - 255
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                        Uint8 a); <span style="color:#75715e">// alpha value 0 - 255
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Clear the current rendering target with the drawing color.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">SDL_RenderClear</span>(SDL_Renderer <span style="color:#f92672">*</span> renderer);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Update the screen with any rendering performed since the previous call.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SDL_RenderPresent</span>(SDL_Renderer <span style="color:#f92672">*</span> renderer);
</span></span></code></pre></div><p>All operations done with the renderer will not be drawn to screen until
we call <em>SDL_RenderPresent</em>. We&rsquo;ll go into details with this on another post
but for now its all we need to know.</p>
<h2 id="errors">Errors<a hidden class="anchor" aria-hidden="true" href="#errors">#</a></h2>
<p>When SDL_Init, SDL_CreateWindow, or SDL_CreateRenderer fails, we can
get the error information by calling <em>SDL_GetError</em>.</p>
<p>Below is an example usage:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(<span style="color:#ae81ff">0</span> <span style="color:#f92672">!=</span> SDL_Init(SDL_INIT_EVERYTHING))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    printf(<span style="color:#e6db74">&#34;Error %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, SDL_GetError());
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="processing-events">Processing events<a hidden class="anchor" aria-hidden="true" href="#processing-events">#</a></h2>
<p>User interactions in SDL are stored in an <em>event queue</em>.
Getting values from this queue is done by calling <em>SDL_PollEvent</em> function.
It returns 1 if there are still items in the queue and 0 if there&rsquo;s none.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">SDL_PollEvent</span>(SDL_Event <span style="color:#f92672">*</span> event);
</span></span></code></pre></div><p>To use this function we must first create an SDL_Event variable that we can
pass as parameter. The function will then fill it values that we can check
and respond as needed.</p>
<p>Below is an example usage:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// create an SDL_Event variable
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SDL_Event event;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// poll the event queue
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">while</span>(SDL_PollEvent(<span style="color:#f92672">&amp;</span>event))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span>(event.type)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// decide what to do with the event
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="setting-an-fps-cap">Setting an FPS Cap<a hidden class="anchor" aria-hidden="true" href="#setting-an-fps-cap">#</a></h2>
<p>Setting a cap on the frame rate is usually done to avoid unnecessary cpu
usage. This cap is usually set to the same value as the monitor&rsquo;s refresh rate.
For our example we will set this to 60.</p>
<p>To cap the frame rate we will have to use the following functions.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// Get the current value of the high resolution counter.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// Returns the current counter value.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Uint64 <span style="color:#a6e22e">SDL_GetPerformanceCounter</span>(<span style="color:#66d9ef">void</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Get the count per second of the high resolution counter.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// Returns a platform-specific count per second.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Uint64 <span style="color:#a6e22e">SDL_GetPerformanceFrequency</span>(<span style="color:#66d9ef">void</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Wait a specified number of milliseconds before returning.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SDL_Delay</span>(Uint32 ms);
</span></span></code></pre></div><p>The idea is to calculate the elapsed time to perform all the operations on the current frame. If this elapsed time value is less than
our target FPS in milliseconds, we call <em>SDL_Delay</em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// fps cap
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">float</span> fps_cap <span style="color:#f92672">=</span> <span style="color:#ae81ff">60.0f</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">float</span> fps_cap_in_ms <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000.0f</span><span style="color:#f92672">/</span>fps_cap;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">uint64_t</span> start;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">uint64_t</span> end;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">float</span> delta; <span style="color:#75715e">// elapsed time
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">bool</span> game_is_running <span style="color:#f92672">=</span> true;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// game loop
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">while</span>(game_is_running)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    start <span style="color:#f92672">=</span> SDL_GetPerformanceCounter();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// process events
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// update
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// render
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    end <span style="color:#f92672">=</span> start <span style="color:#f92672">=</span> SDL_GetPerformanceCounter();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// get how long each cycle has taken
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    delta <span style="color:#f92672">=</span> (end <span style="color:#f92672">-</span> start)<span style="color:#f92672">/</span>(<span style="color:#66d9ef">float</span>)SDL_GetPerformanceFrequency() <span style="color:#f92672">*</span> <span style="color:#ae81ff">1000.0f</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// limit fps
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// wait if time taken is less than target fps in ms.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(delta <span style="color:#f92672">&lt;</span> fps_cap_in_ms)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        SDL_Delay(fps_cap_in_ms <span style="color:#f92672">-</span> delta);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="freeing-resources">Freeing Resources<a hidden class="anchor" aria-hidden="true" href="#freeing-resources">#</a></h2>
<p>Before closing the application, we must free the resources that our program used.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SDL_DestroyRendrer</span>(SDL_Renderer<span style="color:#f92672">*</span> renderer);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SDL_DestroyWindow</span>(SDL_Window<span style="color:#f92672">*</span> window);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SDL_Quit</span>(<span style="color:#66d9ef">void</span>);
</span></span></code></pre></div><h2 id="putting-it-all-together">Putting it all together<a hidden class="anchor" aria-hidden="true" href="#putting-it-all-together">#</a></h2>
<p>main.c</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;SDL2/SDL.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span><span style="color:#f92672">**</span> args) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// screen dimensions
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> SCREEN_WIDTH <span style="color:#f92672">=</span> <span style="color:#ae81ff">854</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> SCREEN_HEIGHT <span style="color:#f92672">=</span> <span style="color:#ae81ff">480</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// fps cap
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">float</span> fps_cap <span style="color:#f92672">=</span> <span style="color:#ae81ff">60.0f</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">float</span> fps_cap_in_ms <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000.0f</span><span style="color:#f92672">/</span>fps_cap;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint64_t</span> start;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint64_t</span> end;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> delta;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// window title
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> TITLE <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hardware Accelerated Blue Screen!&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    SDL_Window<span style="color:#f92672">*</span> window <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    SDL_Renderer<span style="color:#f92672">*</span> renderer <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> is_game_loop_stopped <span style="color:#f92672">=</span> false;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Initialize SDL2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// goto is used only for exception handling
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(<span style="color:#ae81ff">0</span> <span style="color:#f92672">!=</span> SDL_Init(SDL_INIT_EVERYTHING)) <span style="color:#66d9ef">goto</span> bail;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// create the window
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    window <span style="color:#f92672">=</span> SDL_CreateWindow(
</span></span><span style="display:flex;"><span>        TITLE,
</span></span><span style="display:flex;"><span>        SDL_WINDOWPOS_CENTERED,
</span></span><span style="display:flex;"><span>        SDL_WINDOWPOS_CENTERED,
</span></span><span style="display:flex;"><span>        SCREEN_WIDTH,
</span></span><span style="display:flex;"><span>        SCREEN_HEIGHT,
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// check if window was created
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// goto is used only for exception handling
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(NULL <span style="color:#f92672">==</span> window) <span style="color:#66d9ef">goto</span> cleanup;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// create a 2D accelerated renderer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    renderer <span style="color:#f92672">=</span> SDL_CreateRenderer(window, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, SDL_RENDERER_ACCELERATED);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// check if renderer was created
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// goto is used only for exception handling
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(NULL <span style="color:#f92672">==</span> renderer) <span style="color:#66d9ef">goto</span> cleanup_window;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#f92672">!</span>is_game_loop_stopped)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        start <span style="color:#f92672">=</span> SDL_GetPerformanceCounter();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        SDL_Event event;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(SDL_PollEvent(<span style="color:#f92672">&amp;</span>event))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">switch</span>(event.type)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> SDL_QUIT:
</span></span><span style="display:flex;"><span>                    is_game_loop_stopped <span style="color:#f92672">=</span> true;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// set drawing color
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SDL_SetRenderDrawColor(renderer, <span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">255</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// clear screen
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SDL_RenderClear(renderer);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// update screen
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SDL_RenderPresent(renderer);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        end <span style="color:#f92672">=</span> SDL_GetPerformanceCounter();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// get how long each cycle has taken
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        delta <span style="color:#f92672">=</span> (end <span style="color:#f92672">-</span> start)<span style="color:#f92672">/</span>(<span style="color:#66d9ef">float</span>)SDL_GetPerformanceFrequency() <span style="color:#f92672">*</span> <span style="color:#ae81ff">1000.0f</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// limit fps
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// wait if time taken is less than target fps in ms.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(delta <span style="color:#f92672">&lt;</span> fps_cap_in_ms)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            SDL_Delay(fps_cap_in_ms <span style="color:#f92672">-</span> delta);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// free resources
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    SDL_DestroyRenderer(renderer);
</span></span><span style="display:flex;"><span>    SDL_DestroyWindow(window);
</span></span><span style="display:flex;"><span>    SDL_Quit();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> EXIT_SUCCESS;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cleanup_window:
</span></span><span style="display:flex;"><span>    SDL_DestroyWindow(window);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cleanup:
</span></span><span style="display:flex;"><span>    SDL_Quit();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bail:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> EXIT_FAILURE;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="compiling">Compiling<a hidden class="anchor" aria-hidden="true" href="#compiling">#</a></h2>
<p>On Windows using mingw:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gcc main.c -o game -lmingw32 -lSDL2main -lSDL2 -mwindows
</span></span></code></pre></div><p>With pkg-config:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gcc <span style="color:#e6db74">`</span>pkg-config sdl2 --cflags<span style="color:#e6db74">`</span> main.c -o game <span style="color:#e6db74">`</span>pkg-config sdl2 --libs<span style="color:#e6db74">`</span>
</span></span></code></pre></div><h2 id="output">Output<a hidden class="anchor" aria-hidden="true" href="#output">#</a></h2>
<p><img loading="lazy" src="/sdl-window.png" alt="An SDL Window"  title="SDL Window"  />
</p>
<hr>
<p>Thank you for reading!</p>
<p>Like this post? <a href="https://ko-fi.com/K3K7CIMN0"><img loading="lazy" src="https://ko-fi.com/img/githubbutton_sm.svg" alt="ko-fi"  />
</a></p>
<p><a href="https://twitter.com/kebino11_">Follow</a> this blog on Twitter and stay updated!</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.mkbaltz.com/tags/c/">c</a></li>
      <li><a href="https://www.mkbaltz.com/tags/programming/">programming</a></li>
      <li><a href="https://www.mkbaltz.com/tags/sdl/">sdl</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://www.mkbaltz.com/posts/c-sdl-rendering-shapes/">
    <span class="title">« Prev Page</span>
    <br>
    <span>SDL2 Tutorial in C [02] - Rendering Shapes</span>
  </a>
  <a class="next" href="https://www.mkbaltz.com/posts/c-how-to-create-zip-miniz/">
    <span class="title">Next Page »</span>
    <br>
    <span>C - How to Create a Zip Archive Using Miniz</span>
  </a>
</nav>


<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap on twitter"
        href="https://twitter.com/intent/tweet/?text=SDL2%20Tutorial%20in%20C%20%5b01%5d%20-%20Creating%20a%20Window%2c%20Renderer%2c%20and%20Setting%20an%20FPS%20Cap&amp;url=https%3a%2f%2fwww.mkbaltz.com%2fposts%2fc-sdl-how-to-create-a-window%2f&amp;hashtags=c%2cprogramming%2csdl">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.mkbaltz.com%2fposts%2fc-sdl-how-to-create-a-window%2f&amp;title=SDL2%20Tutorial%20in%20C%20%5b01%5d%20-%20Creating%20a%20Window%2c%20Renderer%2c%20and%20Setting%20an%20FPS%20Cap&amp;summary=SDL2%20Tutorial%20in%20C%20%5b01%5d%20-%20Creating%20a%20Window%2c%20Renderer%2c%20and%20Setting%20an%20FPS%20Cap&amp;source=https%3a%2f%2fwww.mkbaltz.com%2fposts%2fc-sdl-how-to-create-a-window%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fwww.mkbaltz.com%2fposts%2fc-sdl-how-to-create-a-window%2f&title=SDL2%20Tutorial%20in%20C%20%5b01%5d%20-%20Creating%20a%20Window%2c%20Renderer%2c%20and%20Setting%20an%20FPS%20Cap">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.mkbaltz.com%2fposts%2fc-sdl-how-to-create-a-window%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap on whatsapp"
        href="https://api.whatsapp.com/send?text=SDL2%20Tutorial%20in%20C%20%5b01%5d%20-%20Creating%20a%20Window%2c%20Renderer%2c%20and%20Setting%20an%20FPS%20Cap%20-%20https%3a%2f%2fwww.mkbaltz.com%2fposts%2fc-sdl-how-to-create-a-window%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share SDL2 Tutorial in C [01] - Creating a Window, Renderer, and Setting an FPS Cap on telegram"
        href="https://telegram.me/share/url?text=SDL2%20Tutorial%20in%20C%20%5b01%5d%20-%20Creating%20a%20Window%2c%20Renderer%2c%20and%20Setting%20an%20FPS%20Cap&amp;url=https%3a%2f%2fwww.mkbaltz.com%2fposts%2fc-sdl-how-to-create-a-window%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://www.mkbaltz.com/">mkbaltz</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
